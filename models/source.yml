version: 2

sources:
  - name: airbyte
    schema: airbyte

    tables:
      - name: customers
        identifier: jaffle_shop_customers_csv
      - name: orders
        identifier: jaffle_shop_orders_csv
        freshness: # default freshness
          warn_after: {count: 5, period: minute}
          error_after: {count: 24, period: hour}
        loaded_at_field: _airbyte_emitted_at
        filter: datediff('day', _etl_loaded_at, current_timestamp) < 2
